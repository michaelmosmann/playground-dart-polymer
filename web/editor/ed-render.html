<!DOCTYPE html>
<link rel="import" href="packages/polymer/polymer.html">

<polymer-element name="ed-render-paragraph" attributes="xtext">
  <template>
    <p id="p">NIX</p>
  </template>
</polymer-element>

<polymer-element name="ed-render-node" attributes="p,root,level,idx">
  <template>
    <template if="{{ root.type == 'headline' }}">
      <h1>{{idx}}{{numberOfType + 1}} {{root.title}}</h1>
    </template>
    <template if="{{ root.type == 'paragraph' }}">
      <ed-render-paragraph xtext="{{root.text}}"></ed-render-paragraph>
    </template>
    <template repeat="{{node in root.nodes}}">
      <div style="margin-left:10px; border:1px dotted black;">
        <ed-render-node root="{{node}}" p="{{root}}" idx="{{(numberOfType + 1).toString()+'.'}}" level="{{level + 1}}"></ed-render-node>
      </div>
    </template>
  </template>
</polymer-element>

<polymer-element name="ed-render-root" attributes="root,mode">
  <template>
    <div>
      <template repeat="{{node in root.nodes}}">
        <ed-render-node root="{{node}}" p="{{root}}" idx="" level="1"></ed-render-node>
      </template>
    </div>
  </template>
</polymer-element>

<polymer-element name="ed-render" attributes="doc">
  <template>
    <style>
      :host {
        background-color: white;
        display: block;
        padding: 4px;
      }
    </style>
    <H1>{{doc.title}}</H1>
    <hr>
    <ed-render-root root="{{doc}}"></ed-render-root>
  </template>
  <script type="application/dart" src="ed-render.dart"></script>
</polymer-element>