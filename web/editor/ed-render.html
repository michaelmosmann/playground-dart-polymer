<!DOCTYPE html>
<link rel="import" href="packages/polymer/polymer.html">

<polymer-element name="ed-render-node" attributes="root,level">
  <template>
    <template if="{{ root.type == 'headline' }}">{{level}}:{{root.title}}<br/></template>
    <template if="{{ root.type == 'paragraph' }}">{{root.text}}<br/></template>
    <template repeat="{{node in root.nodes}}">
      <div style="margin-left:10px; border:1px dotted black;">
        <ed-render-node root="{{node}}" level="{{level + 1}}"></ed-render-node>
      </div>
    </template>
  </template>
</polymer-element>

<polymer-element name="ed-render-root" attributes="root,mode">
  <template>
    <div style="background-color: grey;">
      <template repeat="{{node in root.nodes}}">
        <ed-render-node root="{{node}}" level="1"></ed-render-node>
      </template>
    </div>
  </template>
</polymer-element>

<polymer-element name="ed-render" attributes="doc">
  <template>
    <style>
      :host {
        background-color: white;
        display: block;
        padding: 4px;
      }
    </style>
    <div>{{doc.title}}</div>
    <ed-render-root root="{{doc}}"></ed-render-root>
  </template>
  <script type="application/dart" src="ed-render.dart"></script>
</polymer-element>